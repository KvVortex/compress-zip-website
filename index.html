<!DOCTYPE html>
<html>
<head>
  <title>Simple File Compression</title>
  <style>
 body {
  background-color: #343540;
  font-family: Arial, sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  margin: 0;
}

.container {
  max-width: 800px;
  padding: 40px;
  background-color: #343540;
  border-radius: 8px;
}

.title {
  text-align: center;
  margin-bottom: 20px;
  color: white;
}

.upload-section {
  display: flex;
  align-items: center;
  margin-bottom: 20px;
}

.upload-input {
  display: none;
}

.upload-label {
  padding: 10px 20px;
  cursor: pointer;
  background-color: #343540;
  border-radius: 5px;
  border: solid 2px;
  border-color: #57586A;
  width: auto;
  color: #57586A;
  cursor: pointer;
  font-size: 16px;
  box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.1);
}
        .upload-label:hover {
			background-color: #424350;
            transition: background-color 0.2s ease-in-out;
			border: solid 2px;
		}
		.upload-label:active {
			background-color: #333;
			border: solid 2px;
		}
      
.slider-section {
  display: flex;
  align-items: center;
  margin-bottom: 20px;
}

.slider-label {
  margin-right: 10px;
  color: white;
  animation: 
}

.slider {
  width: auto;
  width: inherit;
}

.slider-value {
  margin-left: 10px;
  text-align: right; /* Align the text to the right */
  color: white;
}


.compress-button {
  display: block;
    background-color: #0ca37f;
            border-radius: 5px;
			border: solid 2px;
            border-color: #43DBB7;
            color: white;
			cursor: pointer;
			font-size: 16px;
            width: 120px;
            min-width: 10px;
			padding: 10px;
            box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.1);
}

.compress-button:hover {
			background-color: #2FD0A4;
            border-color: #35EDBB;
			border: solid 2px;
            transition: background-color 0.2s ease-in-out, border-color 0.2s ease-in-out;
		}
.compress-button:active {
			background-color: #1B7F64;
            border-color: #35EDBB;
			border: solid 2px;
		}
.download-link {
 display: block;
 background-color: #0ca37f;
 border-radius: 5px;
 border: solid 2px;
 border-color: #43DBB7;
 color: white;
 cursor: pointer;
  font-size: 16px;
  width: 225px;
  padding: 10px;
  box-shadow: 0px 2px 10px rgba(0, 0, 0, 0.1);
  margin-top: 10px;
  text-align: center;
  text-decoration: none;
}
.download-link:hover {
			background-color: #2FD0A4;
            border-color: #35EDBB;
			border: solid 2px;
            transition: background-color 0.2s ease-in-out, border-color 0.2s ease-in-out;
		}
.download-link:active {
			background-color: #1B7F64;
            border-color: #35EDBB;
			border: solid 2px;
		}
.overlay-container {
  position: absolute;
  top: 345px;
  z-index: 1; /* Add a higher z-index to bring it in front of other elements */
}

.compressed-image {
  width: 100%;
  height: 100%;
  top: 10px;
  object-fit: cover;
  opacity: 0%;
  transition:0.2s ease-in-out;
}
.uncompressed-image {
    width: 100%;
  height: 100%;
  top: 10px;
  object-fit: cover;
  opacity: 100%;
}
  </style>
</head>
<body>
  <div class="container">
 <img src="title2.jpg" "unCompressed Image" id="uncompressedImage" class="uncompressed-image">
       <div class="overlay-container">
    <img src="title.jpg" "Compressed Image" id="compressedImage" class="compressed-image">
  </div>
    <div class="upload-section">
      <input type="file" id="fileInput" class="upload-input">
      <label for="fileInput" class="upload-label">Select File</label>
    </div>
    <div class="slider-section">  
      <label for="compressionSlider" class="slider-label">Compression Amount:</label>
      <input type="range" id="compressionSlider" min="1" max="100" value="80" class="slider">
      <span id="compressionValue" class="slider-value">80%</span>
    </div>
         <div class="blank-image">
    <img src="blank.jpg" "blankimage" id="blanimage" class="blank-image">
  </div>
    <button onclick="compressAndDownload()" class="compress-button">Compress</button>
    <a id="downloadLink" href="#" download class="download-link">Download Compressed File</a>
  </div>

  <script>
function compressAndDownload() {
  const fileInput = document.getElementById('fileInput');
  const file = fileInput.files[0];

  if (!file) {
    alert('Please select a file.');
    return;
  }

  const reader = new FileReader();

  reader.onload = function (event) {
    const image = new Image();
    image.onload = function () {
      const canvas = document.createElement('canvas');
      const context = canvas.getContext('2d');

      const width = image.width;
      const height = image.height;

      canvas.width = width;
      canvas.height = height;

      context.drawImage(image, 0, 0, width, height);

      const compressionSlider = document.getElementById('compressionSlider');
      const compressionValue = document.getElementById('compressionValue');
      const compressionAmount = (100 - parseInt(compressionSlider.value)) / 100; // Invert the slider value

      // Convert the canvas image to a Blob
      canvas.toBlob(function (blob) {
        const url = URL.createObjectURL(blob);

        const downloadLink = document.getElementById('downloadLink');
        downloadLink.href = url;
        downloadLink.download = "compressed.jpg"; // Set the filename to "compressed.jpg"
      }, "image/jpeg", compressionAmount); // Set the image format to JPEG and the image quality based on the compression amount

      compressionValue.textContent = `${compressionSlider.value}%`; // Update the displayed compression value
    };

    image.src = event.target.result;
  };

  reader.readAsDataURL(file);
}
// Add this code after the compressAndDownload() function

// Get the compression slider and its value element
const compressionSlider = document.getElementById('compressionSlider');
const compressionValue = document.getElementById('compressionValue');

// Update the compression value element when the slider value changes
compressionSlider.addEventListener('input', function () {
  const sliderValue = compressionSlider.value;
  compressionValue.textContent = `${sliderValue}%`;
});
// Add this code after the existing event listener for the compression slider

// Get the compressed image element
const compressedImage = document.getElementById('compressedImage');

// Update the image's opacity when the slider value changes
compressionSlider.addEventListener('input', function () {
  const opacity = parseInt(compressionSlider.value) / 100;
  compressedImage.style.opacity = opacity;
});

    </script>
</body>
</html>
